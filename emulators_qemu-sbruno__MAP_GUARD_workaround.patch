diff -Naur emulators/qemu-sbruno.orig/files/patch-MAP_GUARD-workaround emulators/qemu-sbruno/files/patch-MAP_GUARD-workaround
--- emulators/qemu-sbruno.orig/files/patch-MAP_GUARD-workaround	1970-01-01 02:00:00.000000000 +0200
+++ emulators/qemu-sbruno/files/patch-MAP_GUARD-workaround	2017-07-05 20:55:47.287541000 +0300
@@ -0,0 +1,27 @@
+--- qemu-bsd-user-43acb36/bsd-user/mmap.c.orig	2017-06-11 18:31:16.000000000 +0300
++++ qemu-bsd-user-43acb36/bsd-user/mmap.c	2017-07-03 23:10:56.534722000 +0300
+@@ -18,6 +18,10 @@
+  */
+ #include "qemu/osdep.h"
+ 
++#if defined(__FreeBSD__)
++#include <sys/param.h>
++#endif
++
+ #include "qemu.h"
+ #include "qemu-common.h"
+ #include "translate-all.h"
+@@ -361,6 +361,13 @@ abi_long target_mmap(abi_ulong start, abi_ulong len, i
+ {
+     abi_ulong ret, end, real_start, real_end, retaddr, host_offset, host_len;
+ 
++#if __FreeBSD_version >= 1200035
++    if (flags & MAP_GUARD) {
++        flags &= ~MAP_GUARD;
++        flags |= MAP_PRIVATE | MAP_ANON | MAP_NOCORE;
++    }
++#endif
++
+     mmap_lock();
+ #ifdef DEBUG_MMAP
+     {
